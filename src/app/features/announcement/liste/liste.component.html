<div class="container">
  <h2>List of announcements</h2>

  <div class="card-container">
    <div *ngFor="let a of list" class="card">
      <a [routerLink]="['/announcement/details/', a.id]">
        <img [src]="a.picture" alt="image" class="card-image">
      </a>
      <div class="card-body">
        <h2 class="card-title">{{a.title}}</h2>
        <p class="card-category">{{a.category}} - {{a.address}}</p>
        <p class="card-description">{{a.description}}</p>
        <div class="card-details">
          <div class="card-price">{{a.price | pipeprice}} </div>
          <div class="card-status" [ngClass]="{'available': a.status === 'disponible', 'sold': a.status === 'vendu'}">
            {{a.status}}
          </div>
        </div>

        <div class="card-footer">
          <span>Rooms: {{a.roomsNumber}}</span>
          <span>Date: {{a.datePublication}}</span>
          <span>Surface: {{a.surface | pipesurface}} </span>

          <div class="like-button" (click)="addLike(a)" [ngClass]="{'liked': a.isLiked}">
            <i class="fa fa-heart"></i>
            <span>{{ a.nbrLike }}</span>
          </div>
        </div>

        <!-- Delete button -->
        <button
          class="delete-button"
          (click)="confirmDelete(a)"
        >
          <i class="fa fa-trash"></i> Delete
        </button>
      </div>
    </div>
  </div>

  <!-- Delete Confirmation Modal -->
  <div *ngIf="showDeleteModal" class="modal">
    <div class="modal-content">
      <h3>Confirm Deletion</h3>
      <p>Are you sure you want to delete this announcement?</p>
      <div>
        <button
          class="delete-confirm"
          (click)="deleteAnnouncement()"
        >
          Yes, Delete
        </button>
        <button
          class="delete-cancel"
          (click)="cancelDelete()"
        >
          Cancel
        </button>
      </div>
    </div>
  </div>
</div>
